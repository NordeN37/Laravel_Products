!function(D){var K=function(d){var c=d,b=function(){return c};return{get:b,set:function(a){c=a},clone:function(){return K(b())}}},T=tinymce.util.Tools.resolve("tinymce.PluginManager"),O=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),F=function(a){return a.settings.codesample_content_css},X=function(a){return a.settings.codesample_languages},J=function(a){return Math.min(O.DOM.getViewPort().w,a.getParam("codesample_dialog_width",800))},M=function(a){return Math.min(O.DOM.getViewPort().w,a.getParam("codesample_dialog_height",650))},E={},H=E,Q=void 0!==E?E:"undefined"!=typeof WorkerGlobalScope&&D.self instanceof WorkerGlobalScope?D.self:{},V=function(){var d=/\blang(?:uage)?-(?!\*)(\w+)\b/i,a=Q.Prism={util:{encode:function(c){return c instanceof b?new b(c.type,a.util.encode(c.content),c.alias):"Array"===a.util.type(c)?c.map(a.util.encode):c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(c){return Object.prototype.toString.call(c).match(/\[object (\w+)\]/)[1]},clone:function(g){switch(a.util.type(g)){case"Object":var f={};for(var c in g){g.hasOwnProperty(c)&&(f[c]=a.util.clone(g[c]))}return f;case"Array":return g.map&&g.map(function(h){return a.util.clone(h)})}return g}},languages:{extend:function(g,f){var c=a.util.clone(a.languages[g]);for(var h in f){c[h]=f[h]}return c},insertBefore:function(c,l,g,p){var f=(p=p||a.languages)[c];if(2===arguments.length){for(var k in g=l){g.hasOwnProperty(k)&&(f[k]=g[k])}return f}var h={};for(var m in f){if(f.hasOwnProperty(m)){if(m===l){for(var k in g){g.hasOwnProperty(k)&&(h[k]=g[k])}}h[m]=f[m]}}return a.languages.DFS(a.languages,function(n,i){i===p[c]&&n!==c&&(this[n]=h)}),p[c]=h},DFS:function(g,f,c){for(var h in g){g.hasOwnProperty(h)&&(f.call(g,h,g[h],c||h),"Object"===a.util.type(g[h])?a.languages.DFS(g[h],f):"Array"===a.util.type(g[h])&&a.languages.DFS(g[h],f,h))}}},plugins:{},highlightAll:function(h,g){for(var c=D.document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),k=0,f=void 0;f=c[k++];){a.highlightElement(f,!0===h,g)}},highlightElement:function(m,u,p){for(var g,k,c=m;c&&!d.test(c.className);){c=c.parentNode}c&&(g=(c.className.match(d)||[,""])[1],k=a.languages[g]),m.className=m.className.replace(d,"").replace(/\s+/g," ")+" language-"+g,c=m.parentNode,/pre/i.test(c.nodeName)&&(c.className=c.className.replace(d,"").replace(/\s+/g," ")+" language-"+g);var v=m.textContent,f={element:m,language:g,grammar:k,code:v};if(v&&k){if(a.hooks.run("before-highlight",f),u&&Q.Worker){var h=new D.Worker(a.filename);h.onmessage=function(i){f.highlightedCode=i.data,a.hooks.run("before-insert",f),f.element.innerHTML=f.highlightedCode,p&&p.call(f.element),a.hooks.run("after-highlight",f),a.hooks.run("complete",f)},h.postMessage(JSON.stringify({language:f.language,code:f.code,immediateClose:!0}))}else{f.highlightedCode=a.highlight(f.code,f.grammar,f.language),a.hooks.run("before-insert",f),f.element.innerHTML=f.highlightedCode,p&&p.call(m),a.hooks.run("after-highlight",f),a.hooks.run("complete",f)}}else{a.hooks.run("complete",f)}},highlight:function(g,f,c){var h=a.tokenize(g,f);return b.stringify(a.util.encode(h),c)},tokenize:function(ao,ab,at){var ag=a.Token,ak=[ao],ad=ab.rest;if(ad){for(var ac in ad){ab[ac]=ad[ac]}delete ab.rest}ao:for(var ac in ab){if(ab.hasOwnProperty(ac)&&ab[ac]){var af=ab[ac];af="Array"===a.util.type(af)?af:[af];for(var ai=0;ai<af.length;++ai){var aq=af[ai],aa=aq.inside,am=!!aq.lookbehind,ap=0,ae=aq.alias;aq=aq.pattern||aq;for(var an=0;an<ak.length;an++){var al=ak[an];if(ak.length>ao.length){break ao}if(!(al instanceof ag)){aq.lastIndex=0;var ah=aq.exec(al);if(ah){am&&(ap=ah[1].length);var ar=ah.index-1+ap,C=ar+(ah=ah[0].slice(ap)).length,Z=al.slice(0,ar+1),aj=al.slice(C+1),Y=[an,1];Z&&Y.push(Z);var S=new ag(ac,aa?a.tokenize(ah,aa):ah,ae);Y.push(S),aj&&Y.push(aj),Array.prototype.splice.apply(ak,Y)}}}}}}return ak},hooks:{all:{},add:function(g,f){var c=a.hooks.all;c[g]=c[g]||[],c[g].push(f)},run:function(h,g){var c=a.hooks.all[h];if(c&&c.length){for(var k=0,f=void 0;f=c[k++];){f(g)}}}}},b=a.Token=function(g,f,c){this.type=g,this.content=f,this.alias=c};if(b.stringify=function(g,c,l){if("string"==typeof g){return g}if("Array"===a.util.type(g)){return g.map(function(i){return b.stringify(i,c,g)}).join("")}var m={type:g.type,content:b.stringify(g.content,c,l),tag:"span",classes:["token",g.type],attributes:{},language:c,parent:l};if("comment"===m.type&&(m.attributes.spellcheck="true"),g.alias){var f="Array"===a.util.type(g.alias)?g.alias:[g.alias];Array.prototype.push.apply(m.classes,f)}a.hooks.run("wrap",m);var k="";for(var h in m.attributes){k+=(k?" ":"")+h+'="'+(m.attributes[h]||"")+'"'}return"<"+m.tag+' class="'+m.classes.join(" ")+'" '+k+">"+m.content+"</"+m.tag+">"},!Q.document){return Q.addEventListener&&Q.addEventListener("message",function(h){var g=JSON.parse(h.data),c=g.language,k=g.code,f=g.immediateClose;Q.postMessage(a.highlight(k,a.languages[c],c)),f&&Q.close()},!1),Q.Prism}}();void 0!==H&&(H.Prism=V),V.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},V.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),V.languages.xml=V.languages.markup,V.languages.html=V.languages.markup,V.languages.mathml=V.languages.markup,V.languages.svg=V.languages.markup,V.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},V.languages.css.atrule.inside.rest=V.util.clone(V.languages.css),V.languages.markup&&(V.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:V.languages.markup.tag.inside},rest:V.languages.css},alias:"language-css"}}),V.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:V.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:V.languages.css}},alias:"language-css"}},V.languages.markup.tag)),V.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},V.languages.javascript=V.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),V.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),V.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:V.languages.javascript}},string:/[\s\S]+/}}}),V.languages.markup&&V.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:V.languages.markup.tag.inside},rest:V.languages.javascript},alias:"language-javascript"}}),V.languages.js=V.languages.javascript,V.languages.c=V.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i}),V.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:!0}}}}),delete V.languages.c["class-name"],delete V.languages.c["boolean"],V.languages.csharp=V.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+)\b/i}),V.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0}}),V.languages.cpp=V.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,"boolean":/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/}),V.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:!0}}),V.languages.java=V.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),V.languages.php=V.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}}),V.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),V.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,"package":{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),V.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}}),V.languages.markup&&(V.hooks.add("before-highlight",function(a){"php"===a.language&&(a.tokenStack=[],a.backupCode=a.code,a.code=a.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,function(b){return a.tokenStack.push(b),"{{{PHP"+a.tokenStack.length+"}}}"}))}),V.hooks.add("before-insert",function(a){"php"===a.language&&(a.code=a.backupCode,delete a.backupCode)}),V.hooks.add("after-highlight",function(d){if("php"===d.language){for(var c=0,b=void 0;b=d.tokenStack[c];c++){d.highlightedCode=d.highlightedCode.replace("{{{PHP"+(c+1)+"}}}",V.highlight(b,d.grammar,"php").replace(/\$/g,"$$$$"))}d.element.innerHTML=d.highlightedCode}}),V.hooks.add("wrap",function(a){"php"===a.language&&"markup"===a.type&&(a.content=a.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))}),V.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:V.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})),V.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,"function":{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,"boolean":/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},function(b){b.languages.ruby=b.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var a={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:b.util.clone(b.languages.ruby)}};b.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:a}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:a}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:a}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:a}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:a}},{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/}),b.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/}),b.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:a}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:a}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:a}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:a}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:a}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:a}}]}(V);var U={isCodeSample:function(a){return a&&"PRE"===a.nodeName&&-1!==a.className.indexOf("language-")},trimArg:function(b){return function(c,a){return b(a)}}},I=function(b){var a=b.selection.getNode();return U.isCodeSample(a)?a:null},R=I,P=function(c,b,d){c.undoManager.transact(function(){var a=I(c);d=O.DOM.encode(d),a?(c.dom.setAttrib(a,"class","language-"+b),a.innerHTML=d,V.highlightElement(a),c.selection.select(a)):(c.insertContent('<pre id="__new" class="language-'+b+'">'+d+"</pre>"),c.selection.select(c.$("#__new").removeAttr("id")[0]))})},L=function(b){var a=I(b);return a?a.textContent:""},W=function(b){var a=X(b);return a||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]},q=function(d){var c,b=R(d);return b&&(c=b.className.match(/language-(\w+)/))?c[1]:""},B=function(d){var g=J(d),b=M(d),h=q(d),c=W(d),f=L(d);d.windowManager.open({title:"Insert/Edit code sample",minWidth:g,minHeight:b,layout:"flex",direction:"column",align:"stretch",body:[{type:"listbox",name:"language",label:"Language",maxWidth:200,value:h,values:c},{type:"textbox",name:"code",multiline:!0,spellcheck:!1,ariaLabel:"Code view",flex:1,style:"direction: ltr; text-align: left",classes:"monospace",value:f,autofocus:!0}],onSubmit:function(a){P(d,a.data.language,a.data.code)}})},N=function(a){a.addCommand("codesample",function(){var b=a.selection.getNode();a.selection.isCollapsed()||U.isCodeSample(b)?B(a):a.formatter.toggle("code")})},A=function(b){var c=b.$;b.on("PreProcess",function(a){c("pre[contenteditable=false]",a.node).filter(U.trimArg(U.isCodeSample)).each(function(g,f){var d=c(f),h=f.textContent;d.attr("class",c.trim(d.attr("class"))),d.removeAttr("contentEditable"),d.empty().append(c("<code></code>").each(function(){this.textContent=h}))})}),b.on("SetContent",function(){var a=c("pre").filter(U.trimArg(U.isCodeSample)).filter(function(f,d){return"false"!==d.contentEditable});a.length&&b.undoManager.transact(function(){a.each(function(f,d){c(d).find("br").each(function(h,g){g.parentNode.replaceChild(b.getDoc().createTextNode("\n"),g)}),d.contentEditable=!1,d.innerHTML=b.dom.encode(d.textContent),V.highlightElement(d),d.className=c.trim(d.className)})})})},z=function(g,d,b,h){var c,f=F(g);g.inline&&b.get()||!g.inline&&h.get()||(g.inline?b.set(!0):h.set(!0),!1!==f&&(c=g.dom.create("link",{rel:"stylesheet",href:f||d+"/css/prism.css"}),g.getDoc().getElementsByTagName("head")[0].appendChild(c)))},j=function(a){a.addButton("codesample",{cmd:"codesample",title:"Insert/Edit code sample"}),a.addMenuItem("codesample",{cmd:"codesample",text:"Code sample",icon:"codesample"})},G=K(!1);T.add("codesample",function(c,d){var b=K(!1);A(c),j(c),N(c),c.on("init",function(){z(c,d,G,b)}),c.on("dblclick",function(a){U.isCodeSample(a.target)&&B(c)})})}(window);